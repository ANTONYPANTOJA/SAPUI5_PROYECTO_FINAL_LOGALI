<mvc:View controllerName="logaligroup.rrhhemployees.controller.CreateEmployee"
          xmlns:mvc="sap.ui.core.mvc" 
          xmlns:form="sap.ui.layout.form"
          xmlns:core="sap.ui.core"
          xmlns:u="sap.ui.unified"
          displayBlock="true"
          xmlns="sap.m">
    <Page title="{i18n>crearEmpleado}">
        <content>
            <NavContainer id="wizardNavContainer">
                <pages>
                    <Page id="wizardContentPage" showHeader="false">
                        <content>
<!--Inicio del Wizard-->                            
                            <Wizard id="createEmployeeWizard" class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
                                    complete="wizardCompletedHandler">
<!--1) Tipo de Empleado-->   
                             <WizardStep id="typeEmployeeStep" title="{i18n>tipoEmpleado}" validated="false" >
                                <MessageStrip class="sapUiSmallMarginBottom"
                                              text="{i18n>msgStep1}"
                                              showIcon="true" />
                                	<FlexBox height="100px"
				                             alignItems="Start"
				                             justifyContent="Center">

				                    <Button text="{i18n>interno}"   class="sapUiSmallMarginEnd"  icon="sap-icon://customer"
                                            press="Step2">
                                        <customData>
                                            <core:CustomData key="typeEmployee" value="interno"></core:CustomData>
                                        </customData>
                                    </Button>

				                    <Button text="{i18n>autonomo}"  class="sapUiSmallMarginEnd" icon="sap-icon://employee"
                                            press="Step2">
                                     <customData>
                                            <core:CustomData key="typeEmployee" value="autonomo"></core:CustomData>
                                        </customData>
                                    </Button>

				                    <Button text="{i18n>gerente}"   class="sapUiSmallMarginEnd" icon="sap-icon://private"
                                            press="Step2">
                                     <customData>
                                            <core:CustomData key="typeEmployee" value="gerente"></core:CustomData>
                                        </customData>
			                        </Button>
                                    </FlexBox>              
                             </WizardStep>                                 
<!--2) Datos de Empleado-->   
                            <WizardStep id="dataEmployeeStep" title="{i18n>dataEmpleado}" validated="false"
                                        activate="onEmployeeValidation" >

                             <MessageStrip class="sapUiSmallMarginBottom"
                                              text="{i18n>msgStep2}"
                                              showIcon="true" />
                                            
                                <form:SimpleForm editable="true">

                                     <Label text="{i18n>nombre}" required="true"/>
                                     <Input valueState="{/FirstNameState}" liveChange="onEmployeeValidation" value="{/FirstName}"/>

                                     <Label text="{i18n>apellidos}" required="true"/>
                                     <Input valueState="{/LastNameState}" liveChange="onEmployeeValidation" value="{/LastName}"></Input>

                                    <Label text="{= ${/_typeEmployee} === 'autonomo' ? ${i18n>CIF} : ${i18n>DNI}}" required="true"/>
									<Input value="{/Dni}" valueState="{/_DniState}" liveChange="validateDNI"></Input>

                                    <Label text="{= ${/_typeEmployee} === 'autonomo' ? ${i18n>precioDiario} : ${i18n>saldoBrutoAnual}}" />
                                    <!-- Ranges-->
                                    	<VBox>
													<Slider value="{/salary}"
														min="12000" 
														max="80000"
														step="1000" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true"
														 width="100%" progress="false" class="sapUiSmallMarginBottom" 
														 visible="{=  ${/_typeEmployee} === 'interno'}">
														<ResponsiveScale tickmarksBetweenLabels="50"/>
													</Slider>

													<Slider value="{/salary}"
														min="100" 
														max="2000"
														step="100" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true"
														 width="100%" progress="false" class="sapUiSmallMarginBottom"
														 visible="{=  ${/_typeEmployee} === 'autonomo'}">
														<ResponsiveScale tickmarksBetweenLabels="50"/>
													</Slider>

													<Slider value="{/salary}"
														min="50000" 
														max="200000"
														step="1000" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true"
														 width="100%" progress="false" class="sapUiSmallMarginBottom"
														 visible="{=  ${/_typeEmployee} === 'gerente'}">
														<ResponsiveScale tickmarksBetweenLabels="50"/>
													</Slider>
												</VBox>
                                                <Label text="{i18n>FechaIncorporacion}" required="true" />
                                                <DatePicker dateValue="{/CreationDate}" valueState="{/_CreationDateState}"
                                                 change="onEmployeeValidation"  />
                                </form:SimpleForm>

                            </WizardStep>

<!--3) InformaciÃ³n Adicional--> 
                            <WizardStep id="dataInfoAdicional" title="{i18n>infoAdicional}" validated="true" >
                               <MessageStrip class="sapUiSmallMarginBottom"
                                              text="{i18n>msgStep3}"
                                              showIcon="true" />

                                <Label text="{i18n>comentario}" width="100%"/>
                                <TextArea value="{/comentario}" width="100%"/>
                                <UploadCollection
													id="UploadCollection"
													maximumFilenameLength="55"
													maximumFileSize="10"
													multiple="true"
													uploadUrl="sap/opu/odata/sap/ZEMPLOYEES_SRV/Attachments"
													sameFilenameAllowed="true"
													instantUpload="false"
													change="onChange"
													beforeUploadStarts="onBeforeUploadStart"
													noDataDescription="{i18n>Fichero}" />

                            </WizardStep>

                            </Wizard>
                        </content>
                        <footer>
                            <OverflowToolbar >
                                <ToolbarSpacer/>
										<Button text="{i18n>cancel}" press="onCancel"/>
                            </OverflowToolbar>
                        </footer>
                    </Page>
<!-- Page  END-->
                <Page id="ReviewPage" title="{i18n>resumen}">
							 <core:Fragment fragmentName="logaligroup.rrhhemployees.fragment.ReviewPage" type="XML"/>
								<footer>
									<Toolbar>
										<ToolbarSpacer></ToolbarSpacer>
										<Button text="{i18n>guardar}" press="onSaveEmployee"></Button>
										<Button text="{i18n>cancelar}" press="onCancel"></Button>
									</Toolbar>
								</footer>
				</Page>

            </pages>
        </NavContainer>
    </content>
    </Page>
</mvc:View>